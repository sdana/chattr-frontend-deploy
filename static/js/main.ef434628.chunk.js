(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){e.exports=a(355)},336:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),i=a(357),l=a(16),c=a(18),u=a(20),m=a(19),h=a(21),d=a(358),g=a(356),p="localhost",f=new function e(){Object(l.a)(this,e),this.userLogIn=function(e,t){return fetch("http://".concat(p,":5555/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:e,Password:t})}).then(function(e){return e.text()})},this.userRegister=function(e,t,a,n){return fetch("http://".concat(p,":5555/api/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:e,Password:t,FirstName:a,LastName:n})}).then(function(e){return e.text()})},this.userDetails=function(e){return fetch("http://".concat(p,":5555/api/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("loginToken")),"Content-Type":"application/json"}}).then(function(e){return e.json()})},this.editUser=function(e,t,a){return fetch("http://".concat(p,":5555/api/user/").concat(a),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)})},this.getAllChatrooms=function(e){return fetch("http://".concat(p,":5555/api/chatroom"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}}).then(function(e){return e.json()})},this.getPreviousChatroomMessages=function(e,t){return fetch("http://".concat(p,":5555/api/message"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),chatroomName:t}}).then(function(e){return e.json()})},this.writeMessageToDb=function(e,t,a,n){return fetch("http://".concat(p,":5555/api/message"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({MessageText:e,ChatroomName:t,UserId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},this.createChatRoom=function(e,t,a){return fetch("http://".concat(p,":5555/api/chatroom"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({Title:t,userId:a})}).then(function(e){return e.json()})},this.deleteChatRoom=function(e,t){return fetch("http://".concat(p,":5555/api/chatroom/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()})}},C=a(22),v=a.n(C),E=a(15),y=a.n(E),b=a(27),w=a.n(b),N=a(29),S=a.n(N),j=a(28),k=a.n(j),O=a(35),T=a.n(O),F=a(34),U=a.n(F),A=a(37),x=a.n(A),I=(a(40),a(134)),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,authenticated:!1,register:!1,username:"",password:""},a.handleFieldChange=function(e){var t={};t[e.target.id]=e.target.value,a.setState(t)},a.handleClose=function(){a.setState({open:!1})},a.handleLogin=function(e){e.preventDefault(),console.log("Working"),f.userLogIn(a.state.username,a.state.password).then(function(e){"invalid"!==e?(sessionStorage.setItem("loginToken",e),a.setState({authenticated:!0})):a.setState({open:!0,username:"",password:""})})},a.registerNewAccount=function(e){e.preventDefault(),a.setState({register:!0})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.authenticated?r.a.createElement(g.a,{to:"/"}):this.state.register?r.a.createElement(g.a,{to:"/register"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:30}},r.a.createElement("span",null,r.a.createElement(I.a,{variant:"h1"},"CHATTR")),r.a.createElement("img",{src:x.a,alt:"teeth",style:{height:300}}),r.a.createElement("form",{onSubmit:function(t){return e.handleLogin(t)}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(v.a,{id:"username",label:"Email",type:"email",name:"email",autoComplete:"email",variant:"outlined",value:this.state.username,style:{margin:10},autoFocus:!0,required:!0,onChange:this.handleFieldChange}),r.a.createElement(v.a,{id:"password",label:"Password",type:"password",name:"password",variant:"outlined",value:this.state.password,style:{margin:10},required:!0,onChange:this.handleFieldChange})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(y.a,{variant:"contained",color:"primary",id:"loginButton",type:"submit",style:{margin:15}},"Login"),r.a.createElement(y.a,{variant:"contained",color:"secondary",id:"registerButton",style:{margin:15},onClick:this.registerNewAccount},"New User?")))),r.a.createElement(w.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(U.a,{id:"alert-dialog-title"},"Incorrect Login"),r.a.createElement(k.a,null,r.a.createElement(T.a,{id:"alert-dialog-description"},"I'm sorry, the login information is incorrect. Please try again.")),r.a.createElement(S.a,null,r.a.createElement(y.a,{onClick:this.handleClose,color:"primary"},"Close"))))}}]),t}(n.Component),M=a(14),P=a.n(M),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1,alreadyRegistered:!1,open:!1,loginPage:!1,firstName:"",lastName:"",email:"",password:""},a.handleFieldChange=function(e){var t={};t[e.target.id]=e.target.value,a.setState(t)},a.handleClose=function(){a.setState({open:!1})},a.registerUser=function(e){e.preventDefault(),f.userRegister(a.state.email,a.state.password,a.state.firstName,a.state.lastName).then(function(e){console.log(e),"registered"===e?a.setState({open:!0,firstName:"",lastName:"",password:"",email:""}):(sessionStorage.setItem("loginToken",e),a.setState({redirect:!0}))})},a.backToLogin=function(){a.setState({redirect:!0})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(g.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:30}},r.a.createElement("span",null,r.a.createElement(P.a,{variant:"h1"},"CHATTR")),r.a.createElement("img",{src:x.a,alt:"teeth",style:{height:300}}),r.a.createElement("h1",null,"Register for Chattr"),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(v.a,{id:"firstName",label:"First Name",type:"text",name:"firstName",variant:"outlined",value:this.state.firstName,autoFocus:!0,required:!0,style:{margin:10},onChange:this.handleFieldChange}),r.a.createElement(v.a,{id:"lastName",label:"Last Name",type:"text",name:"lastName",variant:"outlined",value:this.state.lastName,required:!0,style:{margin:10},onChange:this.handleFieldChange})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(v.a,{id:"email",label:"Email",type:"email",name:"email",variant:"outlined",value:this.state.email,require:!0,style:{margin:10},onChange:this.handleFieldChange}),r.a.createElement(v.a,{id:"password",label:"Password",type:"password",name:"password",variant:"outlined",value:this.state.password,required:!0,style:{margin:10},onChange:this.handleFieldChange})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},r.a.createElement(y.a,{variant:"contained",color:"primary",id:"registerButton",type:"submit"},"Create Account"),r.a.createElement(y.a,{variant:"outlined",color:"inherit",onClick:this.backToLogin},"Back to Login")))),r.a.createElement(w.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(U.a,{id:"alert-dialog-title"},"User Exists"),r.a.createElement(k.a,null,r.a.createElement(T.a,{id:"alert-dialog-description"},"I'm sorry, that email address is already registered")),r.a.createElement(S.a,null,r.a.createElement(y.a,{onClick:this.handleClose,color:"primary"},"Close"))))}}]),t}(n.Component),L=a(24),B=a(74),z=a.n(B),H=a(75),G=a.n(H),_=a(55),q=a.n(_),J=a(138),V=a.n(J),W=a(45),Y=a.n(W),K=a(56),X=a.n(K),Q=a(77),Z=a.n(Q),$=a(36),ee=a.n($),te=a(76),ae=a.n(te),ne=(a(336),{avatar:{display:"inline-block"}}),re=Object(L.withStyles)(ne)(function(e){return r.a.createElement(r.a.Fragment,null,e.messages?e.messages.map(function(e,t){return r.a.createElement("li",{className:ne.avatar,key:t},r.a.createElement("div",{style:{display:"inline-flex",justifyContent:"flex-start"}},e.user.avatarUrl?r.a.createElement(ee.a,{src:e.user.avatarUrl}):r.a.createElement(Y.a,{style:{height:40,width:40}}),r.a.createElement(P.a,{color:"inherit",variant:"h6"},e.user.firstName," ",e.user.lastName,": ",e.messageText)))}):null)}),oe=a(33),se=a.n(oe),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[],messageField:""},a.handleFieldChange=function(e){var t={};t[e.target.id]=e.target.value,a.setState(t)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(se.a,{elevation:"2",square:"true"},r.a.createElement("div",{id:"main"},r.a.createElement("div",{id:"message-box"},r.a.createElement("ul",null,r.a.createElement(re,{messages:this.props.previousMessages}),this.props.messages.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{style:{display:"inline-flex",justifyContent:"flex-start"}},"null"!==e.avatar||""===e.avatar?r.a.createElement(ee.a,{src:e.avatar}):r.a.createElement(Y.a,{style:{height:40,width:40}}),r.a.createElement(P.a,{variant:"h6",color:"inherit"},e.user,": ",e.message)))}))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),""!==e.state.messageField?(e.props.sendMessage(t,e.state.messageField),e.setState({messageField:""})):alert("Message can not be blank")}},r.a.createElement("input",{id:"messageField",autoFocus:!0,autoComplete:"off",type:"text",placeholder:"message",value:this.state.messageField,style:{paddingLeft:10,width:"99.3%"},onInput:function(t){return e.handleFieldChange(t)}}))))}}]),t}(n.Component),le=a(104),ce=a(73),ue=a.n(ce),me=a(54),he=a.n(me),de=a(53),ge=a.n(de),pe=a(137),fe=a.n(pe),Ce=a(72),ve=a.n(Ce),Ee=a(136),ye=a.n(Ee),be={list:{width:250}},we=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,redirect:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleFieldChange=function(e){var t={};t[e.target.id]=e.target.value,a.setState(t)},a.createNewChatRoom=function(e,t){if(null==a.state.name)alert("chatroom name cannot be null");else{var n=sessionStorage.getItem("loginToken");f.createChatRoom(n,a.state.name,a.props.user.id).then(function(e){console.log(e),a.props.joinChatAfterCreate(a.state.name)})}},a.removeChatroom=function(e){console.log(e.currentTarget.id);var t=sessionStorage.getItem("loginToken");f.deleteChatRoom(t,e.currentTarget.id).then(function(e){console.log(e),a.props.removeAllUsersFromChat(e.title)})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return!1===this.state.open?r.a.createElement("div",{className:be.list},r.a.createElement(ge.a,null,r.a.createElement(P.a,{variant:"display1",style:{margin:20}},"Chat Rooms"),r.a.createElement(ve.a,null),this.props.chatrooms.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(he.a,{button:!0,key:t.title,onClick:function(){return e.props.toggleDrawer(!1)}},r.a.createElement(ue.a,{primary:t.title,id:t.title,onClick:function(t){e.props.clearMessages(),e.props.removeFromChatroom(),e.props.setCurrentChatroom(t,t.currentTarget.id)}}),e.props.user.id===t.userId?r.a.createElement(ye.a,{id:t.chatroomId,onClick:e.removeChatroom,color:"secondary"}):null))})),r.a.createElement(y.a,{variant:"fab",color:"primary","aria-label":"add",style:{margin:20},onClick:function(){e.handleClickOpen()}},r.a.createElement(fe.a,null))):!0===this.state.open?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(U.a,{id:"form-dialog-title"},"Create New Chat Room"),r.a.createElement(k.a,null,r.a.createElement(T.a,null,"Please enter a title for the room"),r.a.createElement(v.a,{autoFocus:!0,margin:"dense",id:"name",label:"Chat Name",type:"text",fullWidth:!0,autoComplete:"off",onChange:this.handleFieldChange})),r.a.createElement(S.a,null,r.a.createElement(y.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(y.a,{variant:"raised",onClick:function(){e.props.toggleDrawer(),e.handleClose(),e.createNewChatRoom()},color:"primary"},"Create")))):!0===this.state.redirect?r.a.createElement(g.a,{to:"/"}):void 0}}]),t}(n.Component),Ne=Object(L.withStyles)(be)(we);window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0;var Se="localhost",je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0,anchorEl:null,user:{},logout:!1,showDrawer:!1,settingsPage:!1,chatrooms:[],currentChatroom:"",messages:[],previousMessages:[]},a.componentDidMount=function(){var e=sessionStorage.getItem("loginToken");f.userDetails(e).then(function(e){return a.setState(function(t){return{user:e}})}),f.getAllChatrooms(e).then(function(t){return a.setState({chatrooms:t,userToken:e})}).then(console.log(a.state.chatrooms));var t=(new le.a).withUrl("http://".concat(Se,":5555/Hubs/ChatHub")).configureLogging(le.b.Information).build();a.setState({hubConnection:t},function(){a.state.hubConnection.start({withCredentials:!1}).then(function(){return console.log("Connection started!")}).catch(function(e){return console.log("Error while establishing connection :(")})}),t.on("downloadMessage",function(e,t){console.log(t);var n=a.state.messages;n.push(e),a.setState(function(e){return{messages:n}})}),t.on("downloadPreviousMessages",function(e){var t=sessionStorage.getItem("loginToken");f.getPreviousChatroomMessages(t,a.state.currentChatroom).then(function(e){return a.setState({previousMessages:e})})}),t.on("chatClosed",function(e){alert("This chat has ended."),a.removeFromChatroom()})},a.removeAllUsersFromChat=function(e){a.state.hubConnection.invoke("RemoveAllUsersFromChat",e)},a.removeFromChatroom=function(){a.state.currentChatroom&&(a.state.hubConnection.invoke("RemoveFromChat",a.state.currentChatroom,"".concat(a.state.user.firstName," ").concat(a.state.user.lastName)),a.setState({currentChatroom:""}))},a.getUpdatedUserInfo=function(){var e=sessionStorage.getItem("loginToken");f.userDetails(e).then(function(e){return a.setState({user:e})})},a.sendMessage=function(e,t){e.preventDefault();var n=sessionStorage.getItem("loginToken"),r={user:"".concat(a.state.user.firstName," ").concat(a.state.user.lastName),avatar:"".concat(a.state.user.avatarUrl),message:t};console.log("sending message",t),a.state.hubConnection&&(console.log("Sending message"),a.state.hubConnection.invoke("NewMessage",r,a.state.currentChatroom).catch(function(e){return console.error(e.toString())}),f.writeMessageToDb(r.message,a.state.currentChatroom,a.state.user.id,n))},a.clearMessagesOnRoomChange=function(){a.setState({messages:[]})},a.toggleDrawer=function(e){f.getAllChatrooms(a.state.userToken).then(function(t){return a.setState({chatrooms:t,showDrawer:e})})},a.logout=function(){sessionStorage.removeItem("loginToken"),a.setState({logout:!0})},a.handleChange=function(e){a.setState({auth:e.target.checked})},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.setCurrentChatroom=function(e,t){var n={avatar:a.state.user.avatarUrl,user:"".concat(a.state.user.firstName," ").concat(a.state.user.lastName),message:"Has joined ".concat(e.currentTarget.id)};a.state.hubConnection.invoke("AddToGroup",e.currentTarget.id,n),a.setState(function(){return{currentChatroom:t}})},a.joinChatAfterCreate=function(e){a.state.currentChatroom&&a.removeFromChatroom();var t={avatar:a.state.user.avatarUrl,user:"".concat(a.state.user.firstName," ").concat(a.state.user.lastName),message:"Has joined ".concat(e)};a.state.hubConnection.invoke("AddToGroup",e,t),a.setState(function(){return{currentChatroom:e,messages:[]}})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.auth,o=a.anchorEl,s=Boolean(o),i=r.a.createElement(Ne,{toggleDrawer:this.toggleDrawer,user:this.state.user,setCurrentChatroom:this.setCurrentChatroom,hubConnection:this.state.hubConnection,chatrooms:this.state.chatrooms,clearMessages:this.clearMessagesOnRoomChange,removeFromChatroom:this.removeFromChatroom,removeAllUsersFromChat:this.removeAllUsersFromChat,joinChatAfterCreate:this.joinChatAfterCreate});return this.state.logout?r.a.createElement(g.a,{to:"/"}):this.state.settingsPage?r.a.createElement(g.a,{to:{pathname:"/userSettings",props:{getUpdatedInfo:this.getUpdatedUserInfo}}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(z.a,{position:"static"},r.a.createElement(G.a,null,r.a.createElement(q.a,{className:t.menuButton,color:"inherit","aria-label":"Menu",onClick:function(){return e.toggleDrawer(!0)}},r.a.createElement(V.a,null)),r.a.createElement(ae.a,{open:this.state.showDrawer,onClose:function(){return e.toggleDrawer(!1)}},r.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){return e.toggleDrawer(!1)},onKeyDown:function(){return e.toggleDrawer(!1)}}),i),r.a.createElement(P.a,{variant:"h5",color:"inherit",className:t.grow},this.state.user?"".concat(this.state.user.firstName," ").concat(this.state.user.lastName):""),r.a.createElement(P.a,{variant:"caption",color:"inherit",className:t.grow},this.state.currentChatroom?"Chatting in: ".concat(this.state.currentChatroom):""),n&&r.a.createElement("div",null,r.a.createElement(q.a,{"aria-owns":s?"menu-appbar":null,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},this.state.user.avatarUrl?r.a.createElement(ee.a,{src:this.state.user.avatarUrl}):r.a.createElement(Y.a,{style:{height:40,width:40}})),r.a.createElement(Z.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:this.handleClose},r.a.createElement(X.a,{onClick:function(){e.setState({settingsPage:!0}),e.handleClose()}},"Profile"),r.a.createElement(X.a,{onClick:function(){e.handleClose(),e.logout()}},"Logout")))))),r.a.createElement("div",null,this.state.currentChatroom?r.a.createElement(ie,{currentRoom:this.state.currentChatroom,messages:this.state.messages,sendMessage:this.sendMessage,previousMessages:this.state.previousMessages}):r.a.createElement("div",{style:{marginTop:50}},r.a.createElement(P.a,{variant:"h2",color:"textPrimary",align:"center"},"Welcome to Chattr!"),r.a.createElement(P.a,{align:"center"},r.a.createElement("img",{src:x.a,alt:"lips",style:{height:200}})),r.a.createElement(P.a,{variant:"h4",color:"textSecondary",align:"center"},"Please select a chat room from the left menu"))))}}]),t}(r.a.Component),ke=Object(L.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},list:{width:250},fullList:{width:"auto"},plusIcon:{display:"inline"},typography:{useNextVariants:!0},headline:{display:"block"}})(je),Oe=a(31),Te=a.n(Oe),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1,open:!1,firstName:"",lastName:"",avatarUrl:"",user:{}},a.componentDidMount=function(){var e=sessionStorage.getItem("loginToken");f.userDetails(e).then(function(e){return a.setState({user:e})})},a.handleFieldChange=function(e){var t={};t[e.target.id]=e.target.value,a.setState(t)},a.handleClose=function(){a.setState({open:!1})},a.submitChanges=function(){var e=sessionStorage.getItem("loginToken"),t={Id:a.state.user.id,firstName:a.state.firstName?a.state.firstName:a.state.user.firstName,lastName:a.state.lastName?a.state.lastName:a.state.user.lastName,avatarUrl:a.state.avatarUrl?a.state.avatarUrl:a.state.user.avatarUrl,isActive:!0};f.editUser(e,t,a.state.user.id).then(function(e){return a.setState(function(e){return a.props.location.props.getUpdatedInfo(),{redirect:!e.redirect}})})},a.setUserInactive=function(){var e=sessionStorage.getItem("loginToken"),t={Id:a.state.user.id,firstName:a.state.firstName?a.state.firstName:a.state.user.firstName,lastName:a.state.lastName?a.state.lastName:a.state.user.lastName,avatarUrl:a.state.avatarUrl?a.state.avatarUrl:a.state.user.avatarUrl,isActive:!1};f.editUser(e,t,a.state.user.id).then(function(){sessionStorage.removeItem("loginToken"),a.setState(function(e){return{redirect:!e.redirect}})})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(g.a,{to:{pathname:"/",state:{user:this.state.user}}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{containter:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(Te.a,{item:!0},r.a.createElement(P.a,{variant:"h3",style:{margin:40},align:"center"},"Change Account Information")),r.a.createElement(Te.a,{item:!0},r.a.createElement(P.a,{align:"center"},r.a.createElement("img",{src:x.a,alt:"lips",style:{height:200}}))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.submitChanges()}},r.a.createElement(Te.a,{item:!0,align:"center"},r.a.createElement(v.a,{id:"firstName",label:"First Name",type:"text",name:"firstName",variant:"standard",defaultValue:this.state.user.firstName,autoFocus:!0,onChange:this.handleFieldChange,style:{margin:25}}),r.a.createElement(v.a,{id:"lastName",label:"Last Name",type:"text",name:"lastName",variant:"standard",defaultValue:this.state.user.lastName,onChange:this.handleFieldChange,style:{margin:25}}),r.a.createElement(v.a,{id:"avatarUrl",label:"Avatar Url",type:"text",name:"avatarUrl",variant:"standard",defaultValue:this.state.user.avatarUrl,onChange:this.handleFieldChange,style:{margin:25}})),r.a.createElement(Te.a,{item:!0,align:"center"},r.a.createElement(y.a,{variant:"contained",color:"primary",id:"registerButton",type:"submit"},""!==this.state.firstName||""!==this.state.lastName||""!==this.state.avatarUrl?"Submit Changes":"Back Home"))),r.a.createElement(Te.a,{item:!0,align:"center"},r.a.createElement(y.a,{variant:"text",color:"secondary",style:{marginTop:30,fontSize:"1.2rem"},onClick:function(){return e.setState({open:!0})}},"Delete Account"))),r.a.createElement(w.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(k.a,null,r.a.createElement(P.a,{variant:"h4",color:"secondary"},"Are you sure you want to delete your account?"),r.a.createElement(P.a,{variant:"h6"},"This action cannot be undone")),r.a.createElement(S.a,null,r.a.createElement(y.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(y.a,{color:"secondary",variant:"contained",onClick:this.setUserInactive},"Confirm Delete"))))}}]),t}(n.Component),Ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).isAuthenticated=function(){return sessionStorage.getItem("loginToken")},a.showSideMenu=function(){a.setState({sideMenu:!0})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.isAuthenticated()?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{exact:!0,path:"/",component:ke}),r.a.createElement(d.a,{exact:!0,path:"/userSettings",component:Fe})):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{exact:!0,path:"/",component:D}),r.a.createElement(d.a,{exact:!0,path:"/register",component:R}))}}]),t}(n.Component),Ae=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,null))}}]),t}(n.Component);s.a.render(r.a.createElement(i.a,null,r.a.createElement(Ae,null)),document.getElementById("root"))},37:function(e,t,a){e.exports=a.p+"static/media/lips.02d19b83.png"}},[[202,2,1]]]);
//# sourceMappingURL=main.ef434628.chunk.js.map